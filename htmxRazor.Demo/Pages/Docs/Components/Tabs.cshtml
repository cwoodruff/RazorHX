@page
@model TabsModel
@{
    Layout = "_ComponentPage";
    ViewData["Title"] = "Tabs";
    ViewData["ComponentName"] = "Tabs";
    ViewData["ComponentTag"] = "rhx-tab-group";
    ViewData["ComponentDescription"] = "Tabbed interface with placements, closable tabs, and htmx lazy loading.";
}

<section class="docs-component-section">
    <h2>Examples</h2>

    <div class="docs-example">
        <h3>Basic Tabs</h3>
        <rhx-tab-group>
            <rhx-tab rhx-panel="basic-preview" rhx-active="true">Preview</rhx-tab>
            <rhx-tab rhx-panel="basic-code">Code</rhx-tab>
            <rhx-tab-panel rhx-name="basic-preview" rhx-active="true">
                <div class="docs-preview docs-preview--vertical">
                    <rhx-tab-group aria-label="Account settings">
                        <rhx-tab rhx-panel="general" rhx-active>General</rhx-tab>
                        <rhx-tab rhx-panel="profile">Profile</rhx-tab>
                        <rhx-tab rhx-panel="notifications">Notifications</rhx-tab>
                        <rhx-tab-panel rhx-name="general" rhx-active>
                            <p>General account settings. Configure your display name, email, and language preferences.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="profile">
                            <p>Profile settings. Update your bio, avatar, and social links.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="notifications">
                            <p>Notification preferences. Choose which emails and alerts you want to receive.</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>
                </div>
            </rhx-tab-panel>
            <rhx-tab-panel rhx-name="basic-code">
                <div class="docs-code">
                    <pre><code>@Model.BasicCode</code></pre>
                </div>
            </rhx-tab-panel>
        </rhx-tab-group>
    </div>

    <div class="docs-example">
        <h3>Placements</h3>
        <rhx-tab-group>
            <rhx-tab rhx-panel="placements-preview" rhx-active="true">Preview</rhx-tab>
            <rhx-tab rhx-panel="placements-code">Code</rhx-tab>
            <rhx-tab-panel rhx-name="placements-preview" rhx-active="true">
                <div class="docs-preview docs-preview--vertical">
                    <p class="demo-label">Bottom</p>
                    <rhx-tab-group rhx-placement="bottom" aria-label="Bottom tabs example">
                        <rhx-tab rhx-panel="b-one" rhx-active>Tab One</rhx-tab>
                        <rhx-tab rhx-panel="b-two">Tab Two</rhx-tab>
                        <rhx-tab-panel rhx-name="b-one" rhx-active>
                            <p>Content for tab one (bottom placement).</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="b-two">
                            <p>Content for tab two (bottom placement).</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>

                    <p class="demo-label" style="margin-top: var(--rhx-space-lg);">Start (vertical)</p>
                    <rhx-tab-group rhx-placement="start" aria-label="Start tabs example">
                        <rhx-tab rhx-panel="s-one" rhx-active>Dashboard</rhx-tab>
                        <rhx-tab rhx-panel="s-two">Analytics</rhx-tab>
                        <rhx-tab rhx-panel="s-three">Reports</rhx-tab>
                        <rhx-tab-panel rhx-name="s-one" rhx-active>
                            <p>Dashboard overview with key metrics and quick actions.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="s-two">
                            <p>Analytics panel with charts and data visualizations.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="s-three">
                            <p>Reports section for generating and downloading reports.</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>

                    <p class="demo-label" style="margin-top: var(--rhx-space-lg);">End (vertical)</p>
                    <rhx-tab-group rhx-placement="end" aria-label="End tabs example">
                        <rhx-tab rhx-panel="e-one" rhx-active>Info</rhx-tab>
                        <rhx-tab rhx-panel="e-two">Details</rhx-tab>
                        <rhx-tab-panel rhx-name="e-one" rhx-active>
                            <p>Info panel content (end placement).</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="e-two">
                            <p>Details panel content (end placement).</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>
                </div>
            </rhx-tab-panel>
            <rhx-tab-panel rhx-name="placements-code">
                <div class="docs-code">
                    <pre><code>@Model.PlacementsCode</code></pre>
                </div>
            </rhx-tab-panel>
        </rhx-tab-group>
    </div>

    <div class="docs-example">
        <h3>Manual Activation</h3>
        <rhx-tab-group>
            <rhx-tab rhx-panel="manual-preview" rhx-active="true">Preview</rhx-tab>
            <rhx-tab rhx-panel="manual-code">Code</rhx-tab>
            <rhx-tab-panel rhx-name="manual-preview" rhx-active="true">
                <div class="docs-preview docs-preview--vertical">
                    <rhx-tab-group rhx-activation="manual" aria-label="Manual activation example">
                        <rhx-tab rhx-panel="m-one" rhx-active>First</rhx-tab>
                        <rhx-tab rhx-panel="m-two">Second</rhx-tab>
                        <rhx-tab rhx-panel="m-three">Third</rhx-tab>
                        <rhx-tab-panel rhx-name="m-one" rhx-active>
                            <p>First tab content. Use arrow keys to move focus, then Enter/Space to select.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="m-two">
                            <p>Second tab content.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="m-three">
                            <p>Third tab content.</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>
                </div>
            </rhx-tab-panel>
            <rhx-tab-panel rhx-name="manual-code">
                <div class="docs-code">
                    <pre><code>@Model.ManualCode</code></pre>
                </div>
            </rhx-tab-panel>
        </rhx-tab-group>
    </div>

    <div class="docs-example">
        <h3>Closable Tabs</h3>
        <rhx-tab-group>
            <rhx-tab rhx-panel="closable-preview" rhx-active="true">Preview</rhx-tab>
            <rhx-tab rhx-panel="closable-code">Code</rhx-tab>
            <rhx-tab-panel rhx-name="closable-preview" rhx-active="true">
                <div class="docs-preview docs-preview--vertical">
                    <rhx-tab-group aria-label="Closable tabs example">
                        <rhx-tab rhx-panel="c-one" rhx-active rhx-closable>Document 1</rhx-tab>
                        <rhx-tab rhx-panel="c-two" rhx-closable>Document 2</rhx-tab>
                        <rhx-tab rhx-panel="c-three" rhx-closable>Document 3</rhx-tab>
                        <rhx-tab-panel rhx-name="c-one" rhx-active>
                            <p>Document 1 content. Close this tab to see the next one activate.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="c-two">
                            <p>Document 2 content.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="c-three">
                            <p>Document 3 content.</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>
                </div>
            </rhx-tab-panel>
            <rhx-tab-panel rhx-name="closable-code">
                <div class="docs-code">
                    <pre><code>@Model.ClosableCode</code></pre>
                </div>
            </rhx-tab-panel>
        </rhx-tab-group>
    </div>

    <div class="docs-example">
        <h3>Disabled Tab</h3>
        <rhx-tab-group>
            <rhx-tab rhx-panel="disabled-preview" rhx-active="true">Preview</rhx-tab>
            <rhx-tab rhx-panel="disabled-code">Code</rhx-tab>
            <rhx-tab-panel rhx-name="disabled-preview" rhx-active="true">
                <div class="docs-preview docs-preview--vertical">
                    <rhx-tab-group aria-label="Disabled tab example">
                        <rhx-tab rhx-panel="d-one" rhx-active>Active</rhx-tab>
                        <rhx-tab rhx-panel="d-two" rhx-disabled>Disabled</rhx-tab>
                        <rhx-tab rhx-panel="d-three">Available</rhx-tab>
                        <rhx-tab-panel rhx-name="d-one" rhx-active>
                            <p>This tab is active. The "Disabled" tab cannot be clicked or focused via keyboard.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="d-two">
                            <p>This content is unreachable via the disabled tab.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="d-three">
                            <p>Available tab content.</p>
                        </rhx-tab-panel>
                    </rhx-tab-group>
                </div>
            </rhx-tab-panel>
            <rhx-tab-panel rhx-name="disabled-code">
                <div class="docs-code">
                    <pre><code>@Model.DisabledCode</code></pre>
                </div>
            </rhx-tab-panel>
        </rhx-tab-group>
    </div>

    <div class="docs-example">
        <h3>htmx Lazy Loading</h3>
        <rhx-tab-group>
            <rhx-tab rhx-panel="lazy-preview" rhx-active="true">Preview</rhx-tab>
            <rhx-tab rhx-panel="lazy-code">Code</rhx-tab>
            <rhx-tab-panel rhx-name="lazy-preview" rhx-active="true">
                <div class="docs-preview docs-preview--vertical">
                    <rhx-tab-group aria-label="Lazy-loaded tabs example">
                        <rhx-tab rhx-panel="lazy-pre" rhx-active>Pre-rendered</rhx-tab>
                        <rhx-tab rhx-panel="lazy-one"
                                  hx-get="/Docs/Components/Tabs?handler=LazyContent&tab=one"
                                  hx-target="#panel-lazy-one"
                                  hx-swap="innerHTML"
                                  hx-trigger="click once">Lazy Tab 1</rhx-tab>
                        <rhx-tab rhx-panel="lazy-two"
                                  hx-get="/Docs/Components/Tabs?handler=LazyContent&tab=two"
                                  hx-target="#panel-lazy-two"
                                  hx-swap="innerHTML"
                                  hx-trigger="click once">Lazy Tab 2</rhx-tab>
                        <rhx-tab-panel rhx-name="lazy-pre" rhx-active>
                            <p>This panel was rendered with the page. The other tabs will load content via htmx when first clicked.</p>
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="lazy-one">
                            <rhx-spinner rhx-size="small" /> Loading...
                        </rhx-tab-panel>
                        <rhx-tab-panel rhx-name="lazy-two">
                            <rhx-spinner rhx-size="small" /> Loading...
                        </rhx-tab-panel>
                    </rhx-tab-group>
                </div>
            </rhx-tab-panel>
            <rhx-tab-panel rhx-name="lazy-code">
                <div class="docs-code">
                    <pre><code>@Model.LazyCode</code></pre>
                </div>
            </rhx-tab-panel>
        </rhx-tab-group>
    </div>
</section>

@await Html.PartialAsync("_PropertyTable", Model.Properties)

<section class="docs-component-section">
    <h2>Tab Properties</h2>
    <p style="margin-bottom: var(--rhx-space-md); color: var(--rhx-color-text-muted);">
        Properties for <code>&lt;rhx-tab&gt;</code> elements.
    </p>
    @await Html.PartialAsync("_PropertyTable", Model.TabProperties)
</section>

<section class="docs-component-section">
    <h2>Panel Properties</h2>
    <p style="margin-bottom: var(--rhx-space-md); color: var(--rhx-color-text-muted);">
        Properties for <code>&lt;rhx-tab-panel&gt;</code> elements.
    </p>
    @await Html.PartialAsync("_PropertyTable", Model.PanelProperties)
</section>

<section class="docs-component-section">
    <h2>Accessibility</h2>
    <ul class="docs-a11y-list">
        <li>Uses <code>role="tablist"</code> on the tab bar with <code>role="tab"</code> on each tab and <code>role="tabpanel"</code> on each panel.</li>
        <li>Active tab receives <code>aria-selected="true"</code>; panels are linked via <code>aria-controls</code> and <code>aria-labelledby</code>.</li>
        <li>Arrow keys navigate between tabs; <kbd>Home</kbd> and <kbd>End</kbd> jump to the first and last tab.</li>
        <li>In manual activation mode, arrow keys move focus only; <kbd>Enter</kbd> or <kbd>Space</kbd> activates the focused tab.</li>
        <li>Disabled tabs receive <code>aria-disabled="true"</code> and are skipped during keyboard navigation.</li>
        <li>Vertical placements (<code>start</code>, <code>end</code>) set <code>aria-orientation="vertical"</code> and use up/down arrow keys.</li>
    </ul>
</section>
