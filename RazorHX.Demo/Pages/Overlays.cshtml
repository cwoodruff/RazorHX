@page
@model OverlaysModel
@{
    ViewData["Title"] = "Overlays";
}

<!-- ═══════════════════════════════════════════════
     Dialog
     ═══════════════════════════════════════════════ -->

<div class="demo-section">
    <h2>Dialog — Basic</h2>

    <div class="demo-label">Native &lt;dialog&gt; with header, body, and footer</div>
    <div class="demo-row">
        <rhx-button rhx-variant="brand" data-rhx-dialog-open="basic-dialog">Open Dialog</rhx-button>
    </div>

    <rhx-dialog id="basic-dialog" rhx-label="Confirm Action">
        <p>Are you sure you want to proceed? This action cannot be undone.</p>
        <rhx-dialog-footer>
            <rhx-button rhx-variant="ghost" data-rhx-dialog-close="basic-dialog">Cancel</rhx-button>
            <rhx-button rhx-variant="brand" data-rhx-dialog-close="basic-dialog">Confirm</rhx-button>
        </rhx-dialog-footer>
    </rhx-dialog>
</div>

<div class="demo-section">
    <h2>Dialog — No Header</h2>

    <div class="demo-label">Body-only dialog, close via footer button</div>
    <div class="demo-row">
        <rhx-button rhx-variant="outline" data-rhx-dialog-open="noheader-dialog">Open Minimal Dialog</rhx-button>
    </div>

    <rhx-dialog id="noheader-dialog" rhx-no-header>
        <div style="text-align: center; padding: var(--rhx-space-xl);">
            <p style="font-size: var(--rhx-font-size-lg); font-weight: var(--rhx-font-weight-bold);">Session Expired</p>
            <p>Your session has timed out. Please log in again.</p>
        </div>
        <rhx-dialog-footer>
            <rhx-button rhx-variant="brand" data-rhx-dialog-close="noheader-dialog">Log In</rhx-button>
        </rhx-dialog-footer>
    </rhx-dialog>
</div>

<div class="demo-section">
    <h2>Dialog — htmx Loaded</h2>

    <div class="demo-label">Dialog body loaded via htmx, opened by HX-Trigger header</div>
    <div class="demo-row">
        <rhx-button rhx-variant="brand"
                    hx-get="/Overlays?handler=DialogContent"
                    hx-target="#htmx-dialog .rhx-dialog__body"
                    hx-swap="innerHTML">
            Load &amp; Open Dialog
        </rhx-button>
    </div>

    <rhx-dialog id="htmx-dialog" rhx-label="Dynamic Content">
        <p>Loading...</p>
        <rhx-dialog-footer>
            <rhx-button rhx-variant="ghost" data-rhx-dialog-close="htmx-dialog">Close</rhx-button>
        </rhx-dialog-footer>
    </rhx-dialog>
</div>

<!-- ═══════════════════════════════════════════════
     Drawer
     ═══════════════════════════════════════════════ -->

<div class="demo-section">
    <h2>Drawer — End (Default)</h2>

    <div class="demo-label">Slides in from the right edge</div>
    <div class="demo-row">
        <rhx-button rhx-variant="brand" data-rhx-drawer-open="end-drawer">Open End Drawer</rhx-button>
    </div>

    <rhx-drawer id="end-drawer" rhx-label="Notifications">
        <p>You have no new notifications.</p>
        <p>Check back later for updates.</p>
        <rhx-drawer-footer>
            <rhx-button rhx-variant="ghost" data-rhx-drawer-close="end-drawer">Close</rhx-button>
        </rhx-drawer-footer>
    </rhx-drawer>
</div>

<div class="demo-section">
    <h2>Drawer — Start</h2>

    <div class="demo-label">Slides in from the left edge</div>
    <div class="demo-row">
        <rhx-button rhx-variant="outline" data-rhx-drawer-open="start-drawer">Open Start Drawer</rhx-button>
    </div>

    <rhx-drawer id="start-drawer" rhx-label="Navigation" rhx-placement="start">
        <nav style="display: flex; flex-direction: column; gap: var(--rhx-space-sm);">
            <a href="#" style="color: var(--rhx-color-brand-500); font-weight: var(--rhx-font-weight-medium);">Dashboard</a>
            <a href="#" style="color: var(--rhx-color-text);">Settings</a>
            <a href="#" style="color: var(--rhx-color-text);">Profile</a>
            <a href="#" style="color: var(--rhx-color-text);">Help</a>
        </nav>
    </rhx-drawer>
</div>

<div class="demo-section">
    <h2>Drawer — Top &amp; Bottom</h2>

    <div class="demo-label">Slides from the top or bottom edge</div>
    <div class="demo-row">
        <rhx-button rhx-variant="outline" data-rhx-drawer-open="top-drawer">Open Top Drawer</rhx-button>
        <rhx-button rhx-variant="outline" data-rhx-drawer-open="bottom-drawer">Open Bottom Drawer</rhx-button>
    </div>

    <rhx-drawer id="top-drawer" rhx-label="Alert Banner" rhx-placement="top">
        <p>This drawer slides down from the top of the viewport.</p>
    </rhx-drawer>

    <rhx-drawer id="bottom-drawer" rhx-label="Cookie Consent" rhx-placement="bottom">
        <p>We use cookies to improve your experience.</p>
        <rhx-drawer-footer>
            <rhx-button rhx-variant="ghost" data-rhx-drawer-close="bottom-drawer">Decline</rhx-button>
            <rhx-button rhx-variant="brand" data-rhx-drawer-close="bottom-drawer">Accept</rhx-button>
        </rhx-drawer-footer>
    </rhx-drawer>
</div>

<div class="demo-section">
    <h2>Drawer — Contained</h2>

    <div class="demo-label">Positioned relative to its parent instead of the viewport</div>
    <div style="position: relative; height: 300px; border: var(--rhx-border-width) solid var(--rhx-color-border); border-radius: var(--rhx-radius-md); overflow: hidden;">
        <div style="padding: var(--rhx-space-lg);">
            <rhx-button rhx-variant="outline" rhx-size="small" data-rhx-drawer-open="contained-drawer">Toggle Sidebar</rhx-button>
            <p style="margin-top: var(--rhx-space-md);">Main content area. The drawer opens within this container.</p>
        </div>

        <rhx-drawer id="contained-drawer" rhx-label="Filters" rhx-placement="start" rhx-contained>
            <div style="display: flex; flex-direction: column; gap: var(--rhx-space-sm);">
                <label><input type="checkbox" /> Active</label>
                <label><input type="checkbox" /> Pending</label>
                <label><input type="checkbox" /> Archived</label>
            </div>
        </rhx-drawer>
    </div>
</div>

<!-- ═══════════════════════════════════════════════
     Details
     ═══════════════════════════════════════════════ -->

<div class="demo-section">
    <h2>Details — Basic</h2>

    <div class="demo-label">Collapsible disclosure widget</div>
    <div class="demo-row" style="flex-direction: column; align-items: stretch;">
        <rhx-details rhx-summary="What is RazorHX?">
            <p>RazorHX is an ASP.NET Core component library built with Razor Tag Helpers
               and first-class htmx integration.</p>
        </rhx-details>
    </div>
</div>

<div class="demo-section">
    <h2>Details — Open by Default</h2>

    <div class="demo-label">Starts expanded</div>
    <div class="demo-row" style="flex-direction: column; align-items: stretch;">
        <rhx-details rhx-summary="System Requirements" rhx-open>
            <ul>
                <li>.NET 9.0 or later</li>
                <li>ASP.NET Core Razor Pages or MVC</li>
                <li>Any modern browser</li>
            </ul>
        </rhx-details>
    </div>
</div>

<div class="demo-section">
    <h2>Details — Multiple (FAQ)</h2>

    <div class="demo-label">Accordion-like pattern with independent details elements</div>
    <div style="display: flex; flex-direction: column; gap: var(--rhx-space-sm);">
        <rhx-details rhx-summary="How do I install RazorHX?">
            <p>Add the NuGet package to your project and register the tag helpers in _ViewImports.cshtml.</p>
        </rhx-details>
        <rhx-details rhx-summary="Does it work with htmx?">
            <p>Yes! Every component supports hx-get, hx-post, hx-trigger, hx-target, and hx-swap attributes.</p>
        </rhx-details>
        <rhx-details rhx-summary="Is it accessible?">
            <p>RazorHX uses semantic HTML, ARIA attributes, and keyboard navigation throughout all components.</p>
        </rhx-details>
    </div>
</div>

<div class="demo-section">
    <h2>Details — Disabled</h2>

    <div class="demo-label">Cannot be toggled</div>
    <div class="demo-row" style="flex-direction: column; align-items: stretch;">
        <rhx-details rhx-summary="Locked Section" rhx-disabled>
            <p>This content cannot be accessed.</p>
        </rhx-details>
    </div>
</div>

<div class="demo-section">
    <h2>Details — htmx Lazy Load</h2>

    <div class="demo-label">Content loaded on first expand via hx-trigger="toggle once"</div>
    <div class="demo-row" style="flex-direction: column; align-items: stretch;">
        <rhx-details rhx-summary="Load Order History"
                     hx-get="/Overlays?handler=DetailsContent"
                     hx-trigger="toggle once"
                     hx-target="find .rhx-details__content">
            <rhx-spinner rhx-size="small" />
        </rhx-details>
    </div>
</div>
